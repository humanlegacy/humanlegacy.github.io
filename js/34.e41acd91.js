"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[34],{4034:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var s=n(3396),o=n(7139),l=n(9242),c=n(9122);const i={style:{"user-select":"none"}},r={ref:"stage",class:"container flex-center"};function a(e,t,n,a,u,f){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>f.goUp&&f.goUp(...e))},"+"),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>f.goDown&&f.goDown(...e))},"-"),(0,s._)("div",r,[(0,s._)("div",{ref:"container",class:"img-container",style:(0,o.j5)({transform:`scale(${u.scale})`}),onMouseenter:t[3]||(t[3]=(0,l.iM)(((...e)=>f.scaleCtrl&&f.scaleCtrl(...e)),["self","stop"])),onMouseout:t[4]||(t[4]=(0,l.iM)(((...e)=>f.cancelScalCtrl&&f.cancelScalCtrl(...e)),["self","stop"]))},[(0,s._)("img",{ref:"resource",src:c,onMousedown:t[2]||(t[2]=(...e)=>f.moveCtrl&&f.moveCtrl(...e))},null,544)],36)],512)])}var u={data(){return{scale:1,step:.05,index:-1}},methods:{moveCtrl(e){var t=this.$refs.container,n=e.clientX-t.offsetLeft,s=e.clientY-t.offsetTop,o=this.$refs.stage,l=o.clientWidth,c=o.clientHeight,i=this.getOffsetLeft(o),r=this.getOffsetTop(o);document.onmousemove=e=>{let o=e.clientX,a=e.clientY;e.clientX<=i&&(o=i),e.clientX>=i+l&&(o=i+l),e.clientY<=r&&(a=r),e.clientY>=r+c&&(a=r+c);let u=o-n,f=a-s;t.style.cssText+=`;left:${u}px;top:${f}px;`},this.cancelCtrl(e)},itemCtrl(e,t){var n=this.$refs.container,s=n.clientWidth-9,o=n.clientHeight-9,l=e.target,c=e.clientX/this.scale-l.offsetLeft,i=e.clientY/this.scale-l.offsetTop;document.onmousemove=e=>{const t=e.clientX/this.scale-c,n=e.clientY/this.scale-i;l.style.left=t<=9?"-9px":t>=s?s+"px":t+"px",l.style.top=n<=9?"-9px":n>=o?o+"px":n+"px"},this.cancelCtrl(e,(()=>{this.selList[t].left=parseInt(l.style.left),this.selList[t].top=parseInt(l.style.top),console.log(this.selList)}))},getOffsetLeft(e){var t=e.offsetLeft,n=e.offsetParent;while(null!=n)t+=n.offsetLeft,n=n.offsetParent;return t},getOffsetTop(e){var t=e.offsetTop,n=e.offsetParent;while(null!=n)t+=n.offsetTop,n=n.offsetParent;return t},goDown(){this.scale-=this.step},goUp(){this.scale+=this.step},scrollFunc(e){e=e||window.event,e.wheelDelta?(e.wheelDelta>0&&this.goUp(),e.wheelDelta<0&&this.goDown()):e.detail&&(e.detail>0&&this.goDown(),e.detail<0&&this.goUp())},scaleCtrl(e){document.attachEvent&&document.attachEvent("onmousewheel",this.scrollFunc),document.addEventListener&&document.addEventListener("DOMMouseScroll",this.scrollFunc,!1),window.onmousewheel=document.onmousewheel=this.scrollFunc},cancelScalCtrl(){document.detachEvent&&document.detachEvent("onmousewheel",this.scrollFunc),document.removeEventListener&&document.removeEventListener("DOMMouseScroll",this.scrollFunc,!1),window.onmousewheel=document.onmousewheel=null},cancelCtrl(e,t){if(document.onmouseup=e=>{t&&t(e),document.onmousemove=null,document.onmouseup=null},!e.preventDefault)return!1;e.preventDefault()}}},f=n(89);const h=(0,f.Z)(u,[["render",a],["__scopeId","data-v-64b8569a"]]);var d=h},9122:function(e,t,n){e.exports=n.p+"img/img1.80b23741.jpg"}}]);